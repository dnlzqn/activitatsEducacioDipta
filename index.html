<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mapa d'activitats Educació DIPTA</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nata+Sans:wght@100..900&display=swap" rel="stylesheet">

  <!-- Estils de Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css">

  <!-- Estils propis -->
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <main>
    <!-- Contenidor del mapa -->
    <div id="map" role="region" aria-label="Mapa d'activitats educatives">
      <div id="loading">
        Carregant activitats…
      </div>
    </div>
    <div id="chartContainer">
      <canvas id="chartView"></canvas>
    </div>

    

    <!-- Panell de filtres -->
    <aside id="centerPanel" class="panel" aria-label="Filtres de centres">
      <div class="cap">
        <svg xmlns="http://www.w3.org/2000/svg" id="Primer_plano" data-name="Primer plano" viewBox="0 0 117.31 26.91" class="injected-svg logo__img--web inject-svg"><defs><style></style></defs><title>logo-dipta-black</title><path class="" d="M224.14,58.66a1.23,1.23,0,1,0-1.23-1.22A1.23,1.23,0,0,0,224.14,58.66Zm3.21,0a1.23,1.23,0,0,0,0-2.46,1.23,1.23,0,1,0,0,2.46Zm3.2,0a1.23,1.23,0,0,0,0-2.46,1.23,1.23,0,1,0,0,2.46Zm-9.62,0a1.23,1.23,0,1,0-1.23-1.22A1.23,1.23,0,0,0,220.93,58.66Zm-3.2,0a1.23,1.23,0,1,0-1.23-1.22A1.23,1.23,0,0,0,217.73,58.66ZM224.15,74a1.23,1.23,0,1,0-1.23-1.23A1.23,1.23,0,0,0,224.15,74Zm-1.23-5.76A1.23,1.23,0,1,0,224.15,67,1.24,1.24,0,0,0,222.92,68.22Zm-.17,3.13a1.23,1.23,0,1,0-1.74,0A1.25,1.25,0,0,0,222.75,71.35Zm2.82,2.8a1.23,1.23,0,1,0,1.74,0A1.23,1.23,0,0,0,225.57,74.15Zm-5.94-2.63a1.23,1.23,0,1,0,1.23,1.23A1.23,1.23,0,0,0,219.63,71.52ZM228.7,74a1.23,1.23,0,1,0-1.23-1.23A1.22,1.22,0,0,0,228.7,74Zm-5.95.17a1.23,1.23,0,1,0,0,1.74A1.23,1.23,0,0,0,222.75,74.15Zm2.82-2.83a1.23,1.23,0,0,0,1.74-1.73,1.23,1.23,0,0,0-1.74,1.73Zm-1.41-9L213.78,72.73l10.38,10.38,10.37-10.37Zm-7.9,10.37,7.89-7.9,7.91,7.9-7.91,7.9Zm9.38,4.88h-.85v1.13h-1.27V77.61h-.85v-.85h3Zm16.24-2.13c-.75,0-1.46,0-2.11-.07V68.33c.56,0,1.47-.07,2.43-.07,2.15,0,3.58.93,3.58,3.46S244.21,75.48,241.88,75.48Zm.22-5.83a6.65,6.65,0,0,0-.68,0V74a4.51,4.51,0,0,0,.61,0c1.13,0,2-.69,2-2.21C244,70.51,243.58,69.65,242.1,69.65Zm5.45,0a1,1,0,1,1,0-1.9,1,1,0,0,1,1,1A1,1,0,0,1,247.55,69.64Zm-.81,5.78V70.18h1.61v5.24Zm5,.09a2.93,2.93,0,0,1-.53,0v2.45h-1.61V70.18h1.48a6.75,6.75,0,0,1,0,.75,1.69,1.69,0,0,1,1.6-.86c1.25,0,1.92.93,1.92,2.44C254.58,74.31,253.67,75.51,251.76,75.51Zm.4-4.11c-.55,0-.93.63-.93,1.5v1.29a2.29,2.29,0,0,0,.56.06c.62,0,1.09-.4,1.09-1.57C252.88,71.81,252.64,71.4,252.16,71.4Zm6.62,4a4.12,4.12,0,0,1,.07-.82,2,2,0,0,1-1.76.94c-1.17,0-1.56-.75-1.56-1.66v-3.7h1.61v3.34c0,.42.12.67.49.67.57,0,1-.7,1-1.47V70.18h1.62v5.24Zm4.61.12c-1.22,0-1.61-.4-1.61-1.69V71.42H261V70.18h.79V68.63l1.61-.43v2h1.14v1.24H263.4v2.06c0,.54.14.72.54.72a2.8,2.8,0,0,0,.59-.08v1.27A4.75,4.75,0,0,1,263.39,75.54Zm5-.12a5.36,5.36,0,0,1,0-.79,1.76,1.76,0,0,1-1.62.91,1.37,1.37,0,0,1-1.53-1.43c0-1.33,1.29-2,3-2v-.2c0-.43-.25-.64-.94-.64a3.68,3.68,0,0,0-1.54.38l-.12-1.33a6.63,6.63,0,0,1,1.9-.3c1.81,0,2.32.67,2.32,1.87v2.26c0,.38,0,.83,0,1.24Zm-.15-2.25c-1.17,0-1.44.31-1.44.69s.19.46.53.46a1,1,0,0,0,.91-1Zm5,2.36c-1.6,0-2.41-.88-2.41-2.56a2.62,2.62,0,0,1,2.77-2.9,4.37,4.37,0,0,1,1,.13l-.17,1.4a2.53,2.53,0,0,0-.82-.15c-.74,0-1.11.53-1.11,1.39s.36,1.3,1.09,1.3a2.14,2.14,0,0,0,.88-.19l.13,1.36A4.27,4.27,0,0,1,273.2,75.53Zm3.12-5.89a1,1,0,1,1,1-1A1,1,0,0,1,276.32,69.64Zm-.8,5.78V70.18h1.61v5.24Zm5.07.12a2.29,2.29,0,0,1-2.52-2.62,2.7,2.7,0,0,1,2.78-2.85,2.31,2.31,0,0,1,2.51,2.62A2.7,2.7,0,0,1,280.59,75.54Zm-.33-6-.52-.93,2.06-1.15.62,1.11Zm.48,1.87c-.51,0-1,.39-1,1.31s.3,1.4,1,1.4,1-.49,1-1.36S281.41,71.44,280.74,71.44Zm7.89-1.73v5.71H287V69.71h-1.72v-1.4h5.07v1.4Zm4.74,5.71a5.36,5.36,0,0,1,0-.79,1.75,1.75,0,0,1-1.62.91,1.37,1.37,0,0,1-1.53-1.43c0-1.33,1.29-2,3-2v-.2c0-.43-.24-.64-.94-.64a3.6,3.6,0,0,0-1.53.38l-.13-1.33a6.69,6.69,0,0,1,1.9-.3c1.81,0,2.32.67,2.32,1.87v2.26c0,.38,0,.83,0,1.24Zm-.15-2.25c-1.16,0-1.44.31-1.44.69s.19.46.53.46a1,1,0,0,0,.91-1Zm5.84-1.52c-.87-.2-1.34.31-1.34,1.61v2.16h-1.61V70.18h1.51a5.64,5.64,0,0,1-.08.93,1.6,1.6,0,0,1,1.6-1Zm3.78,0c-.88-.2-1.35.31-1.35,1.61v2.16h-1.6V70.18h1.5a6.81,6.81,0,0,1-.07.93,1.58,1.58,0,0,1,1.59-1Zm3.46,3.77a4.3,4.3,0,0,1,.05-.79,1.76,1.76,0,0,1-1.62.91,1.36,1.36,0,0,1-1.53-1.43c0-1.33,1.28-2,2.95-2v-.2c0-.43-.24-.64-.94-.64a3.64,3.64,0,0,0-1.53.38l-.13-1.33a6.71,6.71,0,0,1,1.91-.3c1.81,0,2.31.67,2.31,1.87v2.26c0,.38,0,.83,0,1.24Zm-.15-2.25c-1.16,0-1.43.31-1.43.69s.19.46.53.46a1,1,0,0,0,.9-1ZM311,78.05c-1.43,0-2.29-.51-2.29-1.55a1.46,1.46,0,0,1,.75-1.21.89.89,0,0,1-.5-.82,1,1,0,0,1,.63-.93,1.54,1.54,0,0,1-.77-1.44c0-1.1.82-2,2.42-2a4.11,4.11,0,0,1,1,.12H314v1.27h-.57a.87.87,0,0,1,.14.49c0,1.16-.85,1.88-2.28,1.88l-.42,0a.28.28,0,0,0-.19.26c0,.21.14.28.75.28h.72c1.13,0,1.8.5,1.8,1.56S312.86,78.05,311,78.05Zm.68-2.47h-1a.72.72,0,0,0-.35.61c0,.4.34.66.93.66.75,0,1.13-.32,1.13-.72S312.21,75.58,311.72,75.58Zm-.49-4.36a.77.77,0,1,0,0,1.53.77.77,0,1,0,0-1.53ZM317,75.54a2.29,2.29,0,0,1-2.53-2.62,2.7,2.7,0,0,1,2.78-2.85,2.31,2.31,0,0,1,2.52,2.62A2.71,2.71,0,0,1,317,75.54Zm.15-4.1c-.51,0-1,.39-1,1.31s.31,1.4,1,1.4,1-.49,1-1.36S317.85,71.44,317.19,71.44Zm6.7,4V72.09c0-.42-.12-.67-.49-.67-.57,0-1,.69-1,1.46v2.54h-1.6V70.18h1.5a4.28,4.28,0,0,1-.07.83,2,2,0,0,1,1.76-.94c1.17,0,1.55.75,1.55,1.65v3.7Zm5.69,0a4.3,4.3,0,0,1,.05-.79,1.76,1.76,0,0,1-1.62.91,1.37,1.37,0,0,1-1.54-1.43c0-1.33,1.29-2,3-2v-.2c0-.43-.24-.64-.93-.64a3.64,3.64,0,0,0-1.54.38l-.13-1.33a6.71,6.71,0,0,1,1.91-.3c1.81,0,2.31.67,2.31,1.87v2.26c0,.38,0,.83,0,1.24Zm-.15-2.25c-1.16,0-1.43.31-1.43.69s.19.46.53.46a1,1,0,0,0,.9-1ZM219,59.41h10.34v1.76H219Z" transform="translate(-213.78 -56.2)"></path></svg>
        <h2>Activitats Educació</h2>

          <div id="centerSelect" class="custom-select">
            <div class="select-display" data-value="all">
              Tots els centres educatius
            </div>

            <div class="select-options">
              <div class="select-option" data-value="all">Tots els centres</div>
              <div class="select-option" data-value="EAD Tarragona">EAD TARRAGONA</div>
              <div class="select-option" data-value="EAD Reus">EAD REUS</div>
              <div class="select-option" data-value="ECM Tarragona">ECM TARRAGONA</div>
              <div class="select-option" data-value="ECM Tortosa">ECM TORTOSA</div>
              <div class="select-option" data-value="ECM Reus">ECM REUS</div>
              <div class="select-option" data-value="CEE Sant Rafael">CEE SANT RAFAEL</div>
              <div class="select-option" data-value="CEE Alba">CEE ALBA</div>
              <div class="select-option" data-value="CEE Sant Jordi">CEE SANT JORDI</div>
            </div>
          </div>

          <div class="view-switch">
            <button id="viewMap" class="active">Mapa</button>
            <button id="viewChart">Gràfic</button>
          </div>
      </div>

<div class="activity-list">
  <div id="activityList"></div>
</div>
    </aside>
  </main>

  <!-- Scripts  -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
  <script src="https://unpkg.com/leaflet.heat/dist/leaflet-heat.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>



  <script src="script.js"></script>
</body>
</html>
